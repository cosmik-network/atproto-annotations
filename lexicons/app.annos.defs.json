{
  "lexicon": 1,
  "id": "app.annos.defs",
  "description": "Common definitions for annotation types and references",
  "defs": {
    "annotationBase": {
        "type": "object",
        "description": "Common properties for all annotation records.",
        "required": ["url", "field"],
        "properties": {
            "url": {
                "type": "string",
                "format": "uri",
                "description": "The primary URL identifying the annotated resource."
            },
            "additionalIdentifiers": {
                "type": "array",
                "items": {
                    "type": "ref",
                    "ref": "#identifier"
                },
                "description": "Optional additional identifiers for the resource."
            },
            "field": {
                "type": "ref",
                "description": "A strong reference to the specific annotation field record being used.",
                "ref": "com.atproto.repo.strongRef"
            },
            "fromTemplate": {
                "type": "ref",
                "description": "Optional strong reference to the template record used.",
                "ref": "com.atproto.repo.strongRef"
            },
            "note": {
                "type": "string",
                "description": "An optional user-provided note about the annotation.",
                "maxLength": 3000 // Example length limit
            },
            "createdAt": {
                "type": "string",
                "format": "datetime",
                "description": "Timestamp when this annotation was created (usually set by PDS)."
            },
            "updatedAt": {
                "type": "string",
                "format": "datetime",
                "description": "Timestamp when this annotation was last updated (usually set by PDS)."
            }
        }
    },
    "annotationFieldBase": {
      "type": "object",
      "description": "Common properties for all annotation field records.",
      "required": ["name", "description"],
      "properties": {
        "name": {
          "type": "string",
          "description": "Name of the annotation field"
        },
        "description": {
          "type": "string",
          "description": "Description of the annotation field"
        },
        "createdAt": {
          "type": "string",
          "format": "datetime",
          "description": "Timestamp when this field was created"
        }
      }
    },
    "identifier": {
      "type": "object",
      "description": "Represents an identifier with a type and value.",
      "required": ["type", "value"],
      "properties": {
        "type": {
          "type": "string",
          "description": "The type of identifier (e.g., 'doi', 'at-uri', 'isbn')."
        },
        "value": {
          "type": "string",
          "description": "The identifier value."
        }
      }
    }
  }
}
